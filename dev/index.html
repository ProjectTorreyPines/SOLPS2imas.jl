<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SOLPS2IMAS.jl · SOLPS2IMAS</title><meta name="title" content="SOLPS2IMAS.jl · SOLPS2IMAS"/><meta property="og:title" content="SOLPS2IMAS.jl · SOLPS2IMAS"/><meta property="twitter:title" content="SOLPS2IMAS.jl · SOLPS2IMAS"/><meta name="description" content="Documentation for SOLPS2IMAS."/><meta property="og:description" content="Documentation for SOLPS2IMAS."/><meta property="twitter:description" content="Documentation for SOLPS2IMAS."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>SOLPS2IMAS</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>SOLPS2IMAS.jl</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#solps2imas"><span>solps2imas</span></a></li><li><a class="tocitem" href="#Parsing-tools"><span>Parsing tools</span></a></li><li><a class="tocitem" href="#SOLPS-Mesh-Tools"><span>SOLPS Mesh Tools</span></a></li><li><a class="tocitem" href="#Subset-Identification-Tools"><span>Subset Identification Tools</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>SOLPS2IMAS.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SOLPS2IMAS.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="SOLPS2IMAS.jl"><a class="docs-heading-anchor" href="#SOLPS2IMAS.jl">SOLPS2IMAS.jl</a><a id="SOLPS2IMAS.jl-1"></a><a class="docs-heading-anchor-permalink" href="#SOLPS2IMAS.jl" title="Permalink"></a></h1><ul><li><a href="#SOLPS2IMAS.jl">SOLPS2IMAS.jl</a></li><li class="no-marker"><ul><li><a href="#Installation">Installation</a></li><li><a href="#solps2imas">solps2imas</a></li><li><a href="#Parsing-tools">Parsing tools</a></li><li><a href="#SOLPS-Mesh-Tools">SOLPS Mesh Tools</a></li><li><a href="#Subset-Identification-Tools">Subset Identification Tools</a></li></ul></li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>SOLPS2IMAS is registered with public repository <a href="https://github.com/ProjectTorreyPines/FuseRegistry.jl/">FuseRegistry</a>. For installation:</p><pre><code class="nohighlight hljs">using Pkg
Pkg.Registry.add(RegistrySpec(url=&quot;https://github.com/ProjectTorreyPines/FuseRegistry.jl.git&quot;))
Pkg.Registry.add(&quot;General&quot;)
Pkg.add(&quot;SOLPS2IMAS&quot;)</code></pre><h2 id="solps2imas"><a class="docs-heading-anchor" href="#solps2imas">solps2imas</a><a id="solps2imas-1"></a><a class="docs-heading-anchor-permalink" href="#solps2imas" title="Permalink"></a></h2><p>The main function of this module is solps2imas which reads SOLPS input and output files and creates an IMAS IDS instance.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.solps2imas" href="#SOLPS2IMAS.solps2imas"><code>SOLPS2IMAS.solps2imas</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solps2imas(
    b2gmtry::String,
    b2output::String=&quot;&quot;;
    gsdesc::String=default_gsdesc,
    b2mn::String=&quot;&quot;,
    fort::Tuple{String, String, String}=(&quot;&quot;, &quot;&quot;, &quot;&quot;),
    fort_tol::Float64=1e-6,
    b2_parameters::Tuple{String, String, String, String,}=(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;),
    load_bb::Bool=false,
)::IMASDD.dd</code></pre><p>Main function of the module. Takes in a geometry file and an (optional) output file (either b2time or b2fstate) and a grid_ggd description in the form of a Dict or filename to equivalent YAML file. Additionally, EIRENE <code>fort</code> files can be provided as tuple of 3 filenames consisting fort.33, fort.34, and fort.35 files. The grids in these files are matched with SOLPS grid with a tolerance of <code>fort_tol</code> (defaults to 1e-6). Further settings can be loaded from b2.*.parameters files and equilibrium files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/SOLPS2IMAS.jl#L171-L189">source</a></section></article><p>The main solps2imas feature can be called to load everything. However, some special cases may demand only subsets of the data. In these cases, it is possible to call subcomponents of the SOLPS to IMAS data transfer feature by using these functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.load_summary_data!" href="#SOLPS2IMAS.load_summary_data!"><code>SOLPS2IMAS.load_summary_data!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_summary_data!(
    ids::IMASDD.dd,
    b2_parameters::Tuple{String, String, String, String}=(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);
)</code></pre><p>Loads high level shot summary data into the summary IDS after reading and interpreting SOLPS input files, such as b2.*.parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/SOLPS2IMAS.jl#L113-L121">source</a></section></article><h2 id="Parsing-tools"><a class="docs-heading-anchor" href="#Parsing-tools">Parsing tools</a><a id="Parsing-tools-1"></a><a class="docs-heading-anchor-permalink" href="#Parsing-tools" title="Permalink"></a></h2><p>This module uses some parsing functions which can be used standalone as well</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.read_b2_output" href="#SOLPS2IMAS.read_b2_output"><code>SOLPS2IMAS.read_b2_output</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_b2_output(filename::String)::Dict{String, Dict{String, Any}}</code></pre><p>Read final state b2 output file (b2fstate or b2time.nc) or b2fgmtry file and return a dictionary with structure: Dict(&quot;dim&quot; =&gt; Dict{String, Any}, &quot;data&quot; =&gt; Dict{String, Any}) where &quot;dim&quot; contains the dimensions of the data and &quot;data&quot; contains the data itself, with keys corresponding to the field names.</p><p>Supported SOLPS files as input via filename:</p><ul><li>b2fstate</li><li>b2fstati</li><li>b2time.nc</li><li>b2fgmtry</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/parser.jl#L120-L135">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.read_b2mn_output" href="#SOLPS2IMAS.read_b2mn_output"><code>SOLPS2IMAS.read_b2mn_output</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_b2mn_output(filename::String)::Dict{String, Any}</code></pre><p>Read b2mn output file and store the quantities in a dictionary.</p><p>Supported SOLPS files as input via filename:</p><ul><li>b2mn.dat</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/parser.jl#L54-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.read_b2time_output" href="#SOLPS2IMAS.read_b2time_output"><code>SOLPS2IMAS.read_b2time_output</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_b2time_output(filename::String)::Dict{String, Dict{String, Any}}</code></pre><p>Read time dependent b2 output file and return a dictionary with structure: Dict(&quot;dim&quot; =&gt; Dict{String, Any}, &quot;data&quot; =&gt; Dict{String, Any}) where &quot;dim&quot; contains the dimensions of the data and &quot;data&quot; contains the data itself, with keys corresponding to the field names.</p><p>Supported SOLPS files as input via filename:</p><ul><li>b2time.nc</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/parser.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.read_b2_boundary_parameters" href="#SOLPS2IMAS.read_b2_boundary_parameters"><code>SOLPS2IMAS.read_b2_boundary_parameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_b2_boundary_parameters(filename::String)::Dict{String, Any}</code></pre><p>Reads and interprets the b2.boundary.parameters file from the SOLPS input deck. This file has boundary conditions like power crossing into the mesh from the core as well as particle fluxes. Returns a dictionary of interpreted results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/parser.jl#L263-L269">source</a></section></article><h2 id="SOLPS-Mesh-Tools"><a class="docs-heading-anchor" href="#SOLPS-Mesh-Tools">SOLPS Mesh Tools</a><a id="SOLPS-Mesh-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#SOLPS-Mesh-Tools" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.xytoc" href="#SOLPS2IMAS.xytoc"><code>SOLPS2IMAS.xytoc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">xytoc(ix::Int, iy::Int; nx::Int)::Int</code></pre><p>Converts SOLPS indices for crx, cry (<code>ix</code>, <code>iy</code>) that go from 1:<code>nx</code>, 1:<code>ny</code> into the linear index <code>ic</code> used in IMAS for corresponding cells.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.ctoxy" href="#SOLPS2IMAS.ctoxy"><code>SOLPS2IMAS.ctoxy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ctoxy(ic::Int; nx::Int)::Tuple{Int, Int}</code></pre><p>Inverse of xytoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.data_xytoc" href="#SOLPS2IMAS.data_xytoc"><code>SOLPS2IMAS.data_xytoc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data_xytoc(data::Matrix{Float64}; nx::Int)::Vector{Float64}</code></pre><p>Flattens 2d data given on cell indices <code>ix</code>, <code>iy</code> into 1d data on linear index <code>ic</code>. <code>ic</code> is calculated using xytoc function. Data is assumed to have dimensions (ny, <code>nx</code>) where ny is not required in this conversion.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L23-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.search_point" href="#SOLPS2IMAS.search_point"><code>SOLPS2IMAS.search_point</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">search_point(
    nodes::IMASDD.IDSvector{IMASDD.edge_profiles__grid_ggd___space___objects_per_dimension___object{T}},
    r::Real,
    z::Real;
    tol::Float64=0.0,
)::Int where {T}</code></pre><p>Search if a point (<code>r</code>, <code>z</code>) is present in the nodes array. Here <code>nodes</code> is generally available in <code>ids.edge_profiles.grid_ggd[:].space[:].objects_per_dimension[1].object</code></p><p>If the point is not found, the function returns 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L44-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.search_edges" href="#SOLPS2IMAS.search_edges"><code>SOLPS2IMAS.search_edges</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">search_edges(
    edges::IMASDD.IDSvector{IMASDD.edge_profiles__grid_ggd___space___objects_per_dimension___object{T}},
    edge_nodes::Array{Int, 1}
)::Int where {T}</code></pre><p>Search if an edge with nodes as <code>edge_nodes</code> already exists in the <code>edges</code> array. <code>edges</code> is generally available in <code>ids.edge_profiles.grid_ggd[:].space[:].objects_per_dimension[2].object</code></p><p>If the edge is not found, the function returns 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L72-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.distance_between_nodes" href="#SOLPS2IMAS.distance_between_nodes"><code>SOLPS2IMAS.distance_between_nodes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">distance_between_nodes(nodes::edges_nodes_type, node_inds::Array{Int, 1})</code></pre><p>Return distance between two nodes with indices <code>node_inds</code> in <code>nodes</code> array. <code>nodes</code> is generally available in <code>ids.edge_profiles.grid_ggd[:].space[:].objects_per_dimension[1].object</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L97-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.neighbour_inds" href="#SOLPS2IMAS.neighbour_inds"><code>SOLPS2IMAS.neighbour_inds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">neighbour_inds(
    ic::Int;
    nx::Int,
    ny::Int,
    leftcut::Int,
    rightcut::Int,
    topcut::Int,
    bottomcut::Int,
)::Vector{Int}</code></pre><p>(deprecated function)</p><p>Returns indices of neighbours of cell with linear index <code>ic</code>. This function uses the SOLPS grid generation algorithm to determine the neighbours. However, SOLPS geometry file actually provides the neighbor indices directly. Thus, this function is not used in the code anywhere but is kept here for reference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L108-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.get_neighbour_inds" href="#SOLPS2IMAS.get_neighbour_inds"><code>SOLPS2IMAS.get_neighbour_inds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_neighbour_inds(
    ic::Int,
    gmtry::Dict{String, Dict{String, Any}},
    it::Int,
)::Vector{Int}</code></pre><p>Returns indices of neighbours of cell with linear index <code>ic</code>. This function uses the parsed SOLPS geometry file to determine the neighbours by using matrices named as leftix, rightix, topix, bottomix, leftiy, rightiy, topiy, and bottomiy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L181-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.attach_neightbours!" href="#SOLPS2IMAS.attach_neightbours!"><code>SOLPS2IMAS.attach_neightbours!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">attach_neightbours!(
    cells::IMASDD.IDSvector{IMASDD.edge_profiles__grid_ggd___space___objects_per_dimension___object{T}},
    edges::IMASDD.IDSvector{IMASDD.edge_profiles__grid_ggd___space___objects_per_dimension___object{T}},
    gmtry::Dict{String, Dict{String, Any}},
    it::Int,
) where {T}</code></pre><p>This function attaches neighbours to each boundary of each cell and each boundary of each edge using the parsed SOLPS geometry file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/solps_mesh_tools.jl#L211-L221">source</a></section></article><h2 id="Subset-Identification-Tools"><a class="docs-heading-anchor" href="#Subset-Identification-Tools">Subset Identification Tools</a><a id="Subset-Identification-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Subset-Identification-Tools" title="Permalink"></a></h2><p>These functions provide a way to identify if a linear cell index in SOLPS notation belongs to a grid subset.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.in_core" href="#SOLPS2IMAS.in_core"><code>SOLPS2IMAS.in_core</code></a> — <span class="docstring-category">Function</span></header><section><div><p>in_core(; ix, iy, topcut, bottomcut, leftcut, rightcut)::Bool</p><p>Returns true if cell indexed <code>ix</code>, <code>iy</code> lie inside the core.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.in_sol" href="#SOLPS2IMAS.in_sol"><code>SOLPS2IMAS.in_sol</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">in_sol(; iy, topcut, kwargs...)::Bool</code></pre><p>Returns true if cell indexed <code>ix</code>, <code>iy</code> lie inside the SOL.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.in_idr" href="#SOLPS2IMAS.in_idr"><code>SOLPS2IMAS.in_idr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">in_idr(; ix, iy, topcut, bottomcut, leftcut, kwargs...)::Bool</code></pre><p>Returns true if cell indexed <code>ix</code>, <code>iy</code> lie inside the inner divertor region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.in_odr" href="#SOLPS2IMAS.in_odr"><code>SOLPS2IMAS.in_odr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">in_odr(; ix, iy, topcut, bottomcut, rightcut, kwargs...)::Bool</code></pre><p>Returns true if cell indexed <code>ix</code>, <code>iy</code> lie inside the outer divertor region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_x_aligned" href="#SOLPS2IMAS.is_x_aligned"><code>SOLPS2IMAS.is_x_aligned</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_x_aligned(;boundary_ind)::Bool</code></pre><p>x_aligned edges will have odd <code>boundary_ind</code> based on chosen order of numbering them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_y_aligned" href="#SOLPS2IMAS.is_y_aligned"><code>SOLPS2IMAS.is_y_aligned</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_y_aligned(; boundary_ind)::Bool</code></pre><p>y_aligned edges will have even <code>boundary_ind</code> based on chosen order of numbering them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_core_cut" href="#SOLPS2IMAS.is_core_cut"><code>SOLPS2IMAS.is_core_cut</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_core_cut(;
    ix,
    iy,
    cells,
    nx,
    boundary_ind,
    topcut,
    bottomcut,
    leftcut,
    rightcut,
)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on core_cut (Y-aliged edge).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L49-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_pfr_cut" href="#SOLPS2IMAS.is_pfr_cut"><code>SOLPS2IMAS.is_pfr_cut</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_pfr_cut(;
    ix,
    iy,
    cells,
    nx,
    boundary_ind,
    topcut,
    bottomcut,
    leftcut,
    rightcut,
)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on core_cut (y-aliged edge).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L85-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_outer_throat" href="#SOLPS2IMAS.is_outer_throat"><code>SOLPS2IMAS.is_outer_throat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_outer_throat(; ix, iy, boundary_ind, topcut, rightcut, kwargs...)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on outer throat.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L120-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_inner_throat" href="#SOLPS2IMAS.is_inner_throat"><code>SOLPS2IMAS.is_inner_throat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_inner_throat(; ix, iy, boundary_ind, topcut, leftcut, kwargs...)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on outer throat.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L129-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_outer_midplane" href="#SOLPS2IMAS.is_outer_midplane"><code>SOLPS2IMAS.is_outer_midplane</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_outer_midplane(; ix, jxa, boundary_ind)</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on outer midplane.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L138-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_inner_midplane" href="#SOLPS2IMAS.is_inner_midplane"><code>SOLPS2IMAS.is_inner_midplane</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_inner_midplane(; ix, jxa, boundary_ind)</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on outer midplane.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L148-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_outer_target" href="#SOLPS2IMAS.is_outer_target"><code>SOLPS2IMAS.is_outer_target</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_outer_target(; ix, nx, boundary_ind)</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on outer target.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L158-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_inner_target" href="#SOLPS2IMAS.is_inner_target"><code>SOLPS2IMAS.is_inner_target</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_inner_target(; ix, boundary_ind, kwargs...)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on inner target.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L165-L169">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_core_boundary" href="#SOLPS2IMAS.is_core_boundary"><code>SOLPS2IMAS.is_core_boundary</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_core_boundary(;
ix,
iy,
boundary_ind,
bottomcut,
leftcut,
rightcut,
kwargs...,</code></pre><p>)</p><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on core boundary (central blank spot boundary).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L172-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.is_separatrix" href="#SOLPS2IMAS.is_separatrix"><code>SOLPS2IMAS.is_separatrix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">is_separatrix(; iy, boundary_ind, topcut, kwargs...)::Bool</code></pre><p>Returns true if <code>boundary_ind</code> of a cell at <code>ix</code>, <code>iy</code> is on separatrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L199-L203">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SOLPS2IMAS.get_xpoint_nodes" href="#SOLPS2IMAS.get_xpoint_nodes"><code>SOLPS2IMAS.get_xpoint_nodes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_xpoint_nodes(
    gmtry::Dict{String, Dict{String, Any}},
)::Vector{Vector{Vector{Float64}}}</code></pre><p>Limited to finding first x-point for now. Returns x-point (r, z) for each time index of grid_ggd for the first x-point only. Thus second index correspond to the rank of x-point which is always 1 from output of this function for now.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ProjectTorreyPines/SOLPS2IMAS.jl/blob/c861fb40bd63dd90dcc148efadcd1e0fb83d9727/src/subset_id.jl#L208-L216">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 17 July 2024 00:54">Wednesday 17 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
